<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stock Performance Tracker</title>
    <!-- Bootstrap CSS -->
    <link
        href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css"
        rel="stylesheet"
        integrity="sha384-rbsA2VBKQvZrHRFe/0C4FzjUAN6mqeGkCV9sdTg5F5Wll4H/XVfKnEGLwlkWjJg"
        crossorigin="anonymous"
    >
    <style>
        body {
            background-color: #f8f9fa;
        }
        .container {
            margin-top: 20px;
        }
        .stock-card {
            margin-bottom: 20px;
        }
        .chart {
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light shadow-sm">
        <div class="container-fluid">
            <a class="navbar-brand" href="/">Stock Tracker</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="/">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/download_excel">Download Excel</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">About</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <div class="container">
        <h1 class="text-center my-4">Stock Performance Tracker</h1>

        {% for data, graph in zip(all_data, all_graphs) %}
        <div class="card stock-card shadow-sm">
            <div class="card-body">
                <h2 class="card-title">{{ data.Name }} ({{ data.Ticker }})</h2>
                <p class="card-text"><strong>Current Price:</strong> {{ data["Current Price"] }}</p>
                <p class="card-text"><strong>Previous Close:</strong> {{ data["Previous Close"] }}</p>
                <p class="card-text"><strong>52-Week High:</strong> {{ data["52-Week High"] }}</p>
                <p class="card-text"><strong>52-Week Low:</strong> {{ data["52-Week Low"] }}</p>
                <p class="card-text"><strong>Sector:</strong> {{ data["Sector"] }}</p>
                <p class="card-text"><strong>Industry:</strong> {{ data["Industry"] }}</p>
                <p class="card-text"><strong>Country:</strong> {{ data["Country"] }}</p>
                <div class="chart">
                    <h3>1-Year Historical Price Chart</h3>
                    <div>{{ graph|safe }}</div>
                </div>
            </div>
        </div>
        {% endfor %}

        <div class="text-center my-4">
            <a href="/download_excel" class="btn btn-primary">Download Stock Data as Excel</a>
            <a href="/" class="btn btn-secondary">Back to Home</a>
        </div>
    </div>
    <!-- Footer -->
    <footer class="bg-light text-center text-lg-start mt-5">
        <div class="container p-4">
            <p class="text-muted mb-0">Â© 2024 Stock Performance Tracker. All Rights Reserved.</p>
        </div>
    </footer>
    <!-- Bootstrap JS Bundle -->
    <script
        src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ENjdO4Dr2bkBIFxQpeoYz1GaN6cVo8sG8rNoe/ljH/+BJwQx2ZWv7XfWo/nE6M4"
        crossorigin="anonymous"
    ></script>
</body>
</html>
